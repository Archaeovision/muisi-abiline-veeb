---
import { Image } from "astro:assets";
import Nav from "./Nav.astro";
import logo from "../assets/logo.svg";
---

<header class="site-header">
  <a class="skip-link" href="#content">Skip to content</a>
  <div class="container-fluid header-inner">
    <a class="brand" href="/">
      <Image src={logo} alt="MuISi abiline" width={276} height={128} />
    </a>
    <div class="header-tagline">M채rgistamislahendus Muuseumide Infos체steemile</div>
    <button class="nav-toggle" type="button" aria-expanded="false" aria-controls="primary-nav">
      <span class="nav-toggle-icon" aria-hidden="true"></span>
      <span class="sr-only">Ava men체체</span>
    </button>
    <Nav />
  </div>
</header>

<script is:inline>
  const header = document.querySelector(".site-header");
  const toggle = header?.querySelector(".nav-toggle");
  const nav = header?.querySelector("#primary-nav");

  if (toggle && nav) {
    toggle.addEventListener("click", () => {
      const isOpen = header.classList.toggle("nav-open");
      toggle.setAttribute("aria-expanded", String(isOpen));
    });
  }
</script>
